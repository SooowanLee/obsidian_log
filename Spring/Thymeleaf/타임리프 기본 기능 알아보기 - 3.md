---
ìƒíƒœ: ì™„ë£Œ
tags:
  - íƒ€ì„ë¦¬í”„
ì‹œì‘ì¼: 2024-06-14
ë§ˆê°ì¼: 2024-06-14
---
### ì´ì „ ê²Œì‹œë¬¼ [[íƒ€ì„ë¦¬í”„ ê¸°ë³¸ ê¸°ëŠ¥ ì•Œì•„ë³´ê¸° - 2|íƒ€ì„ë¦¬í”„ ê¸°ë³¸ 2]]
---
## ë¸”ë¡
**[íƒ€ì„ë¦¬í”„ìì²´íƒœê·¸](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#synthetic-thblock-tag)**
`th:block` íƒ€ì„ë¦¬í”„ì˜ ìœ ì¼í•œ ìì²´ íƒœê·¸

ê°œë°œìê°€ ì›í•˜ëŠ” ì†ì„±ì„ ì§€ì •í•  ìˆ˜ ìˆëŠ” ë‹¨ìˆœí•œ ì†ì„± ì»¨í…Œì´ë„ˆë¡œ ì†ì„±ì„ ì‹¤í–‰í•œ ë‹¤ìŒ ë¸”ë¡ì„ ì‚¬ë¼ì§€ê²Œ ë§Œë“¤ì§€ë§Œ ì†ì„±ì€ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆë‹¤.

ì˜ˆë¥¼ë“¤ì–´, ì‚¬ìš©ì ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ê°™ì€ ì—´ì— ë‘ê³  ìš”ì•½ì„ ë‹¤ë¥¸ ì—´ì— ë‘ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![](https://i.imgur.com/0ORKAJL.png)

```html
<!DOCTYPE html>  
<html xmlns:th="http://www.thymeleaf.org">  
<head>  
...
</head>  
<body>  
<table border="1">  
	<th:block th:each="user : ${users}">  
		<tr>  
			<td th:text="|ì‚¬ìš©ì ì´ë¦„ : ${user.username}|"></td>  
			<td th:text="|ìš”ì•½ : ${user.username} / ${user.age}|"></td>  
		</tr>  
		<tr>  
			<td th:text="|ì‚¬ìš©ì ë‚˜ì´ : ${user.age}|"></td>  
		</tr>  
	</th:block>  
</table>  
</body>  
</html>
```

`th:block`ì´ ì—†ì—ˆë‹¤ë©´ **ì‚¬ìš©ì ë‚˜ì´**ë¥¼ ì¶œë ¥í•˜ëŠ” `th:text`ì—ì„œëŠ” `${user.age}`ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í–ˆì„ ê²ƒì´ë‹¤.

## ğŸ“šìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸
**[ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#javascript-inlining)**
**ì‚¬ìš©ë²•** : `th:inline="javascript"` ëª…ì‹œì ìœ¼ë¡œ í™œì„±í™”í•´ì•¼ í•œë‹¤.

íƒ€ì„ë¦¬í”„ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ê¸°ëŠ¥

```html
<!DOCTYPE html>  
<html xmlns:th="http://www.thymeleaf.org">  
<head>  
<meta charset="UTF-8">  
<title>Title</title>  
</head>  
<body>  
<!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© ì „ -->  
<script>  
	var username = [[${user.username}]];  
	var age = [[${user.age}]];  
//ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿  
	var username2 = /*[[${user.username}]]*/ "test username";  
//ê°ì²´  
	var user = [[${user}]];  
	</script>  
<!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© í›„ -->  
<script th:inline="javascript">  
	var username = [[${user.username}]];  
	var age = [[${user.age}]];  
//ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿  
	var username2 = /*[[${user.username}]]*/ "test username";  
//ê°ì²´  
	var user = [[${user}]];  
</script>  
</body>  
</html>
```

`th:inline="javascript"`ë¥¼ ì‚¬ìš©í•˜ë©´ íƒ€ì„ë¦¬í”„ì˜ ë¬¸ë²•ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 
ë°ì´í„°ë¥¼ ë„£ì–´ì¤„ ë•Œ íƒ€ì…ì„ ì¶”ë¡ í•´ì„œ ë„£ì–´ì£¼ê³  ì£¼ì„ë„ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

ê°ì²´ëŠ” ì•Œì•„ì„œ JSONìœ¼ë¡œ ë³€í™˜ì„ í•œë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ì„ ì‚¬ìš©í•˜ê¸° ì „ì˜ ê°ì²´ëŠ” ê·¸ëƒ¥ toString()ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.

### ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ each
íƒ€ì„ë¦¬í”„ `th:each`ë¥¼ `<script>`ì•ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¬¸ë²•
- `[# th:each="user, stat : ${users}]`: ë°˜ë³µë¬¸ ì‹œì‘  
- `[/]`: ë°˜ë³µë¬¸ ì¢…ë£Œ(ëª…ì‹œì ìœ¼ë¡œ ì‘ì„±í•´ì¤˜ì•¼ Thymeleaf í‘œí˜„ì‹ì„ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤)

```html
<script th:inline="javascript">  
	[# th:each="user, stat : ${users}"]  
	var user[[${stat.count}]] = [[${user}]];  
	[/]  
</script>
```

## í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ
**[Template Layout](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#template-layout)**
Header, Footerë“± ê³µí†µ ì˜ì—­ì´ ë§ì€ í˜ì´ì§€ì˜ ê²½ìš° ê¸°ë³¸ì ì¸ í‹€ì„ ì§œê³  ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

### í…œí”Œë¦¿ ì¡°ê°
í…œí”Œë¦¿ì„ ì•„ì£¼ ì‘ì€ ë‹¨ìœ„ë¡œ ì •ì˜í•˜ê³  ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œ í…œí”Œë¦¿ ì¡°ê°ì„ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

`th:fragment="ì´ë¦„"` 
**templates/template/fragment/footer.html**
```html
<!doctype html>  
<html xmlns:th="http://www.thymeleaf.org">  
<head>  
...
</head>  
<body>  
<footer th:fragment="copy">  
	ì—¬ê¸°ëŠ” í‘¸í„° ì…ë‹ˆë‹¤.  
</footer>  
...
</body>  
</html>
```

fragmentë¥¼ ì •ì˜í•œ footerë¥¼ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œ fragmentë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•´ë³´ì.

**templates/template/fragment/fragmentMain.html**
```html
<!DOCTYPE html>  
<html xmlns:th="http://www.thymeleaf.org">  
<head>  
<meta charset="UTF-8">  
<title>Title</title>  
</head>  
<body>  
<h1>ë¶€ë¶„ í¬í•¨</h1>  
<h2>ë¶€ë¶„ í¬í•¨ insert</h2>  
<div th:insert="~{template/fragment/footer :: copy}"></div>  
<h2>ë¶€ë¶„ í¬í•¨ replace</h2>  
<div th:replace="~{template/fragment/footer :: copy}"></div>
<h2>ë¶€ë¶„ í¬í•¨ ë‹¨ìˆœ í‘œí˜„ì‹</h2>  
<div th:replace="template/fragment/footer :: copy"></div>  
<h1>íŒŒë¼ë¯¸í„° ì‚¬ìš©</h1>  
<div th:replace="~{template/fragment/footer :: copyParam ('ë°ì´í„°1', 'ë°ì´í„°2')}"></div>  
</body>  
</html>
```

- `th:insert` : íƒœê·¸ë¥¼ **ëŒ€ì²´í•˜ì§€ ì•Šê³ ** th:insert ì†ì„±ì´ ìˆëŠ” **íƒœê·¸ ì•ˆìœ¼ë¡œ ë“¤ì–´ì˜¨ë‹¤.**
- `th:replace`: íƒœê·¸ë¥¼ ëŒ€ì²´í•œë‹¤. 
![](https://i.imgur.com/tGp4C1K.png)

**th:insert**ë¥¼ í•œ ë¶€ë¶„ì€ `div`ê°€ ê·¸ëŒ€ë¡œ ì‚´ì•„ìˆê³  `footer`ê°€ ë“¤ì–´ì™”ìŠµë‹ˆë‹¤.
**th:replace**ë¥¼ í•œ ë¶€ë¶„ì€ `footer`ê°€ `div`ë¥¼ ëŒ€ì²´í•˜ì˜€ìŠµë‹ˆë‹¤.

`th:replace = "~{template/fragment/footer :: copy}"` ë¥¼ ë‹¨ìˆœí•˜ê²Œ `template/fragment/footer :: copy` í‘œí˜„í•  ìˆ˜ë„ ìˆë‹¤.

**templates/template/fragment/footer.html**
`footer`ì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ì„œ ì²˜ë¦¬í•  ìˆ˜ë„ ìˆë‹¤.
```html


<!doctype html>  
<html xmlns:th="http://www.thymeleaf.org">  
<head>  
...
</head>  
<body>  
...
<footer th:fragment="copyParam (param1, param2)">  
	<p>íŒŒë¼ë¯¸í„° ìë¦¬ ì…ë‹ˆë‹¤.</p>  
	<p th:text="${param1}"></p>  
	<p th:text="${param2}"></p>  
</footer>  
</body>  
</html>
```

**templates/template/fragment/fragmentMain.html**
`th:replace="~{template/fragment/footer :: copyParam('ë°ì´í„°1', 'ë°ì´í„°2')}`
```html
<!DOCTYPE html>  
<html xmlns:th="http://www.thymeleaf.org">  
<head>  
...
</head>  
<body>  
...
<h1>íŒŒë¼ë¯¸í„° ì‚¬ìš©</h1>  
<div th:replace="~{template/fragment/footer :: copyParam ('ë°ì´í„°1', 'ë°ì´í„°2')}"></div>  
</body>  
</html>
```

![](https://i.imgur.com/k0UEzmG.png)
## í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ 2
ì•„ì£¼ì‘ì€ ë‹¨ìœ„ë³´ë‹¤ ì¢€ ë” í™•ì¥ëœ ë²”ìœ„ë¥¼ í…œí”Œë¦¿ ì¡°ê°ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
`<head>`ê°™ì€ ì¡°ê¸ˆ ë” í° ë²”ìœ„ì˜ íƒœê·¸ë„ í…œí”Œë¦¿ ì¡°ê°ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

**base.html**ì˜ `<head>`ë¥¼ **layoutMain.html** `<head>`ì— ì‚¬ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.

ìœ„ì—ì„œ ë°°ìš´ `th:fragment`ë¥¼ ì‚¬ìš©í•´ì„œ titleê³¼ linksë¥¼ ë°›ìŠµë‹ˆë‹¤. 
**base.html**ì˜ `<head th:fragment="common_header(title, links)">` ì„ ì¶”ê°€í•´ì„œ ë°›ì•„ì¤ë‹ˆë‹¤.

**templates/template/layout/base.html**
```html
<html xmlns:th="http://www.thymeleaf.org">  
<head th:fragment="common_header(title,links)">  
<title th:replace="${title}">ë ˆì´ì•„ì›ƒ íƒ€ì´í‹€</title>  
<!-- ê³µí†µ -->  
<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/awesomeapp.css}">  
<link rel="shortcut icon" th:href="@{/images/favicon.ico}">  
<script type="text/javascript" th:src="@{/sh/scripts/codebase.js}"></script>  
  
<!-- ì¶”ê°€ -->  
<th:block th:replace="${links}" />  
</head>
```

ë°›ì•„ì˜¨ **title, links**ë¥¼ `th:replace`ì™€ `th:block`ì„ ì‚¬ìš©í•´ì„œ ì¶”ê°€, ëŒ€ì²´í•©ë‹ˆë‹¤.
`th:block th:replace="${links}"`: layoutMain.htmlì—ì„œ ë„˜ì–´ì˜¨ linksë¥¼ í•œ ê°œì”© ì¶”ê°€í•©ë‹ˆë‹¤.

**templates/template/layout/layoutMain.html**
```html
<!DOCTYPE html>  
<html xmlns:th="http://www.thymeleaf.org">  
<head th:replace="template/layout/base :: common_header(~{::title},~{::links})">
<title>ë©”ì¸ íƒ€ì´í‹€</title>  
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">  
<link rel="stylesheet" th:href="@{/themes/smoothness/jquery-ui.css}">  
</head>  
<body>  
ë©”ì¸ ì»¨í…ì¸   
</body>  
</html>
```

`th:replace` ë¥¼ í†µí•´ì„œ baseì— title, linksë¥¼ ë„˜ê²¨ì¤ë‹ˆë‹¤. íƒœê·¸ë¥¼ ë„˜ê¸¸ë•Œ `~{::}`ë¬¸ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

![](https://i.imgur.com/KrC8MM0.png)

**base.html**ì— **íŒŒë¼ë¯¸í„°**ë¡œ ì „ë‹¬í•œ **title, links**ë¥¼ í¬í•¨í•˜ì—¬ base.htmlì˜ `<head>`ê°€ layoutMain.htmlì˜ `<head>`ë¡œ êµì²´ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.

base.htmlì— ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  `<head>`ë¥¼ ë§Œë“¤ê³  layoutMain.htmlì—ì„œ í•„ìš”í•œ ë¶€ë¶„ë§Œ íŒŒë¼ë¯¸í„°ë¡œ ë³´ë‚´ì„œ ë§ì¶¤ í˜ì´ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì—ˆë‹¤.>

## í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ 3
ì´ë²ˆì—ëŠ” ë” í™•ì¥ëœ ê°œë…ìœ¼ë¡œ **ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  html**ì„ ë§Œë“¤ê³  **ê³µìœ **í•´ë³´ê² ìŠµë‹ˆë‹¤.


ë¨¼ì € ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  layoutFile.htmlì„ ìƒì„±í•©ë‹ˆë‹¤.

**templates/template/layoutExtend/layoutFile.html**
```html
<!DOCTYPE html>  
<html th:fragment="layout (title, content)" xmlns:th="http://www.thymeleaf.org">  
<head>  
<title th:replace="${title}">ë ˆì´ì•„ì›ƒ íƒ€ì´í‹€</title>  
</head>  
<body>  
<h1>ë ˆì´ì•„ì›ƒ H1</h1>  
<div th:replace="${content}">  
	<p>ë ˆì´ì•„ì›ƒ ì»¨í…ì¸ </p>  
</div>  
<footer>  
	ë ˆì´ì•„ì›ƒ í‘¸í„°  
</footer>  
</body>  
</html>
```

layoutFile.htmlì„ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•  layoutExtendMain.htmlì„ ìƒì„±í•©ë‹ˆë‹¤.

**templates/template/layoutExtend/layoutExtendMain.html**
```html
<!DOCTYPE html>  
<html th:replace="template/layoutExtend/layoutFile :: layout(~{::title}, ~{::section})" xmlns:th="http://www.thymeleaf.org">  
<head>  
	<title>ë ˆì´ì•„ì›ƒ 3 íƒ€ì´í‹€</title>  
</head>  
<body>  
<section >  
	<p>ë©”ì¸ í˜ì´ì§€ ì»¨í„´ì¸ </p>  
	<div>ë©”ì¸ í˜ì´ì§€ í¬í•¨ ë‚´ìš©</div>  
</section>  
</body>  
</html>
```

